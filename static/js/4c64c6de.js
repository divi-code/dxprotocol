import{_ as e,E as t,O as r,P as o,Q as a}from"./35bc27a3.js";import{s as i}from"./ee7ce8fe.js";import{j as l,r as s,C as n,n as d,w as f,q as p,x as y,y as c}from"./5bdea638.js";import"./2b425f2d.js";import"./1e98e625.js";import"./9b9cf7db.js";import"./c229d341.js";import"./9737f36b.js";const m={class:"grid-content"},h=e({__name:"KiloUserChart",props:{title:{typeof:String,default:""},item:{typeof:Array,default:()=>[]},chartData:{typeof:Array,default:()=>[]},tooltipAxisPointerType:{typeof:String,default:"line"},isZero:{typeof:Boolean,default:!1}},emits:["getChart"],setup(e,{emit:h}){const u=e,b=t(),{theme:x,themeConfig:S}=i(b),v=l((()=>S.value[x.value])),g=s(null),w={max:e=>{const{max:t,min:r}=e,o=Math.max(Math.abs(t),Math.abs(r));return Math.floor(1.2*o)},min:e=>{const{max:t,min:r}=e,o=Math.max(Math.abs(t),Math.abs(r));return Math.floor(1.2*-o)}},M=()=>{const e=[],t={},i=[],l=[],s=v.value;u.item.forEach((e=>{const o=(null==e?void 0:e.type)||"bar";if(i.indexOf(o)<0){i.push(o);let e={};u.isZero&&(e={...w}),e="bar"==o?{...e,type:"value",splitLine:{show:!0,lineStyle:{color:s["primary-border"],type:[10,20],dashOffset:0}},axisLine:{show:!0,lineStyle:{color:s["primary-border"],type:"solid",dashOffset:0}},axisTick:{show:!0},axisLabel:{color:s["text-2"],formatter:function(e,t){return r(e)}}}:{...e,type:"value",splitLine:{show:"bar"===o,lineStyle:{color:s["primary-border"],type:[10,20],dashOffset:0}},axisLine:{show:!0,lineStyle:{color:s["primary-border"],type:"solid",dashOffset:0}},axisTick:{show:!0},axisLabel:{color:s["text-2"],formatter:function(e,t){return r(e)}}},l.push({...e})}const a={};"bar"==o&&(a.barMaxWidth="40",a.barMinWidth="6"),t[e.key]={name:e.name,showSymbol:!1,type:(null==e?void 0:e.type)||"bar",stack:(null==e?void 0:e.stack)||"Ad",color:(null==e?void 0:e.color)||"",yAxisIndex:"bar"!=o?1:0,itemStyle:{...null==e?void 0:e.itemStyle},...a,smooth:!0,data:[]},e.areaStyle&&(t[e.key].areaStyle=e.areaStyle,t[e.key].lineStyle={width:0})}));JSON.parse(JSON.stringify(u.chartData)).reverse().forEach(((r,o)=>{e.push((null==r?void 0:r.createTime)||r.id),Object.keys(r).forEach((e=>{t[e]&&t[e].data.push(r[e])}))}));var n=o(g.value,"",{renderer:"svg"});const d={color:["#389aff","#E7BB41","#8E80E3","#22c761","#ff8d00","#00bfea","#8884ff","#ab6100","#c90000","#7b7b7b","#6464ff","purple","darkgreen","#f93333","#ffaf01"],title:{top:12,left:12,show:!!u.title,text:u.title,textStyle:{color:s["text-1"],fontSize:14}},tooltip:{renderMode:"html",trigger:"axis",confine:!0,backgroundColor:s["primary-bg-2"],borderColor:s["primary-box"],textStyle:{color:s["text-1"],overflow:"breakAll"},axisPointer:{type:u.tooltipAxisPointerType,z:0,lineStyle:{type:"solid",color:s["primary-border"]},label:{show:!1,formatter:function({value:e}){return a(e,"MM-DD")}}}},legend:{type:"scroll",bottom:5,padding:[0,16,0,16],selectedMode:!1,itemGap:10,itemWidth:16,itemHeight:10,textStyle:{color:s["text-2"]},itemStyle:{width:1},lineStyle:{width:2}},grid:{left:"20",right:20,bottom:35,containLabel:!0},xAxis:[{position:"bottom",type:"category",data:e,splitLine:{show:!0,lineStyle:{color:s["primary-border"],type:[10,20],dashOffset:0}},axisLine:{onZero:!1,show:!0,lineStyle:{color:s["primary-border"],type:"solid",dashOffset:0}},axisLabel:{color:s["text-2"],formatter:function(e,t){return a(e,"MM-DD")}}}],yAxis:[...l],series:[...Object.values(t)]};n.setOption(d),window.addEventListener("resize",(()=>{setTimeout((()=>{n.resize()}),100)})),h("getChart",n)};return n((()=>{d((()=>{M()}))})),f((()=>u),(()=>{d((()=>{M()}))}),{deep:!0}),f((()=>x.value),(()=>{M()})),(e,t)=>(p(),y("div",m,[c("div",{ref_key:"chart",ref:g,class:"user-chart"},null,512)]))}},[["__scopeId","data-v-ce823605"]]);export{h as default};
